<div class="activity-main min-hght">
    <div class="container-fluid m-plr0">
        <div class="relate " ng-class="{'openfilter': isopenfilter}">
            <div class="pt20 pb10 head-title-all">
                <div class="row m-clear">
                    <div class="col-sm-3 col-sm-3">
                        <div class="btn-destinationfilter">
                            <button class="btn btn-pink" ng-click="openFilter()">
                                <i class="fa fa-filter" aria-hidden="true"></i>
                                <span class="hidden-xs">Filter</span>
                            </button>
                        </div>
                    </div>
                    <!-- <div class="col-sm-6 col-xs-12">
            <h4 class="text-center  fnt-24 p-clear">Itineraries</h4>
            and Journeys
          </div> -->
                </div>
            </div>
            <div class="libro-filter filterclose">
                <form>
                    <div class="pt20 pb10 head-title-all fliter-min-hght bg-grey">
                        <div class="pad-btn m-plr0">
                            <div class="container-fluid">
                                <div class="row">
                                    <!-- <div class="col-md-2 col-sm-3">
                    <div class="select-all-made" ng-mouseleave="showAll=false">
                        <span class="btn btn-default form-control" ng-click="showAll=true" ng-hide="showAll">All
                      <i class="fa fa-angle-down pull-right" aria-hidden="true"></i></span>
                        <input type="type" placeholder="Show All" ng-model="searchFilter" ng-show="showAll" class="form-control input-tab avenir-roman">
                        <div class="check-box-panel" ng-show="showAll">
                          <ul>
                            <li ng-repeat="country in countries | filter:searchFilter">
                              <input type="checkbox" id="{{country.code}} " class="form-control">
                              <label for="{{country.code}} " class="avenir-roman ">{{country.name}}</label>
                            </li>
                          </ul>
                        </div>
                  </div>
                  </div> -->
                                    <div class="col-md-3 col-sm-3">
                                        <div class="select-all-made city-select destination-filterscroll relate" ng-init="viewItineraryCity={'outerClass':'outerCity','innerClass':'innerCity'}">
                                            <input type="text" ng-model="itinerary.citySearch" class="form-control outerCity" ng-change="getItinerayCity(countryDestData._id);" placeholder="City" ng-click="editOption(viewItineraryCity,'outerCity','innerCity');">
                                            <div class="city-dropdow itinerary-dropdown innerCity" ng-show="viewItineraryCity.backgroundClick">
                                                <ul>
                                                    <li ng-repeat="city in cityList track by $index">
                                                        <div class="select-city custom-checkbox">
                                                            <input type="checkbox" id="{{city.name}}" ng-model="city.checked" ng-click="itineraryFilter(city,'itineraryCity')">
                                                            <label for="{{city.name}}">{{city.name}}</label>
                                                        </div>
                                                    </li>
                                                    <li class="visible-xs">
                                                        <div class="button-all text-right pt10 pr10 pb10">
                                                            <a class="btn btn-pink avenir-roman " ng-click="getCountyItiSubmit();">Submit</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3">
                                        <div class="select-all-made itinerary-select destination-filterscroll relate" ng-init="viewItineraryType={'outerClass':'outerIti','innerClass':'innerouterIti'}">
                                            <input type="text" ng-model="itinerary.type" class="form-control outerIti" ng-change="getItineraryType();" placeholder="Type" ng-click="editOption(viewItineraryType,'outerIti','innerouterIti')">
                                            <div class="city-dropdow itinerary-dropdown innerouterIti" ng-show="viewItineraryType.backgroundClick">
                                                <ul>
                                                    <li ng-repeat="type in itineraryType track by $index">
                                                        <div class="select-city custom-checkbox">
                                                            <input type="checkbox" id="{{type.name}}" ng-model="type.checked" ng-click="itineraryFilter(type,'itineraryType')">
                                                            <label for="{{type.name}}">{{type.name}}</label>
                                                        </div>
                                                    </li>
                                                    <li class="visible-xs">
                                                        <div class="button-all text-right pt10 pr10 pb10">
                                                            <a class="btn btn-pink avenir-roman " ng-click="getCountyItiSubmit();">Submit</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3">
                                        <div class="select-all-made by-select relate destination-filterscroll" ng-init="viewItineraryBy={'outerClass':'outerItiBy','innerClass':'innerouterItiBy'}">
                                            <input type="text" ng-model="itinerary.by" class="form-control outerItiBy" ng-change="getItineraryType();" placeholder="By" ng-click="editOption(viewItineraryBy,'outerItiBy','innerouterItiBy')">
                                            <div class="city-dropdow itinerary-dropdown innerouterItiBy" ng-show="viewItineraryBy.backgroundClick">
                                                <ul>
                                                    <li ng-repeat="by in itineraryByCountry track by $index">
                                                        <div class="select-city custom-checkbox">
                                                            <input type="checkbox" id="{{by.name}}" ng-model="by.checked" ng-click="itineraryFilter(by,'itineraryBy')" />
                                                            <label for="{{by.name}}">{{by.name}}</label>
                                                        </div>
                                                    </li>
                                                    <li class="visible-xs">
                                                        <div class="button-all text-right pt10 pr10 pb10">
                                                            <a class="btn btn-pink avenir-roman " ng-click="getCountyItiSubmit();">Submit</a>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3  col-sm-3 ">
                                        <div class="txt-clear text-right ">
                                            <a ng-click="clearCountryItinerary();">Clear All</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pt10 pb10 head-title-all bg-grey mb20 ">
                        <div class="container-fluid ">
                            <div class="plr30 m-p0">
                                <div class="close-all">
                                    <a class="btn btn-pink avenir-roman " ng-click="openFilter() ">X Close</a>
                                    <a class="btn btn-pink avenir-roman" ng-click="getCountyItiSubmit();">Submit</a>
                                    <span class="tags avenir-roman" ng-repeat="item in destinationCityFilter track by $index">{{item.name}}<span ng-click="itineraryFilter(item,'itineraryCity')">X</span></span>
                                    <span class="tags avenir-roman" ng-repeat="item in destinationItineraryType track by $index">{{item.name}} <span ng-click="itineraryFilter(item,'itineraryType')">X</span></span>
                                    <span class="tags avenir-roman" ng-repeat="item in destinationItineraryBy track by $index">{{item.name}} <span ng-click="itineraryFilter(item,'itineraryBy')">X</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="activity-container destination-itinerary-holder">
            <div class="empty-travel-journey color-white" ng-if="countryDestIti.length == 0">
                <div class="empty-ongo text-center">
                    <p class="empty-descp color-white">We are yet to experience this country and give you our take on the best way to explore it.</p>
                    <p class="empty-descp color-white">
                        If you have visited this Country or in fact live there, do fill us in with your recommendations at
                        <a href="mailto:info@travelibro.com" class="color-white">info@travelibro.com</a>.
                    </p>
                </div>
            </div>
            <div masonry preserve-order infinite-scroll="itineraryLoadMore();" infinite-scroll-disabled="scroll.busy" ng-if="countryDestIti.length > 0">
                <div class="row m-m0">
                    <div class="col-md-4 col-sm-6 col-xs-12 m-plr0 masonry-brick" ng-repeat="post in countryDestIti track by $index">
                        <!-- user-iternarys -->
                        <div class="travel-life-part blog-post bg-white avenir-roman overflow {{post.type}}" ng-if="post.type=='quick-itinerary' || post.type=='detail-itinerary'">
                            <div class="travel-journey-heading destination-itinerary">
                                <p>{{post.name}} ({{post.duration}} {{post.duration|singularPlural:'Days'}})</p>
                                <!-- <div class="editor-logo user-logo pointer" ui-sref="mylife({'urlSlug':post.user.urlSlug})">
                  <img ng-src="{{post.user.profilePicture|uploadpath:45:45:'cover'}}" alt="{{post.user.name}}" class="img-responsive">
                </div> -->
                                <!-- <div class="inline-block editor-subdetail">
                  <div class="clearfix">
                    <div class="pull-left">
                      <h4 class="font-bold color-dark-blue text-capitalize m-clear mb5 heading-name pointer" ui-sref="mylife({'urlSlug':post.user.urlSlug})">{{post.user.name}}</h4>
                    </div>
                    <div class="pull-right" ng-if="post.itineraryBy!='Admin'" ng-click="followFollowing(post.user);">
                      <span class="follow-following pointer color-blue text-capitalize">{{post.user.following|followFollowingStatus}}</span>
                    </div>
                  </div>
                  <p class="m-clear journey-timestamp"><i class="fa fa-calendar mr5"></i><span class="mr5">{{post.startTime | date : 'dd MMM, yyyy'}}</span> |
                    <i class="fa fa-clock-o mr5 ml5"></i> <span>{{post.startTime | date :'hh:mm a'}}</span></p>
                </div> -->
                            </div>
                            <div class="onway-journey relate" ng-init="itinerary=post.type=='quick-itinerary'?'userquickitinerary':'userdetailitinerary'">
                                <div class="itinerary-creator-detail">
                                    <div class="editor-logo user-logo pointer v-mid" ui-sref="mylife({'urlSlug':post.user.urlSlug})">
                                        <img ng-src="{{post.user.profilePicture|uploadpath:45:45:'cover'}}" alt="{{post.user.name}}" class="img-responsive">
                                    </div>
                                    <h4 class="font-bold color-dark-blue text-capitalize m-clear heading-name pointer" ui-sref="mylife({'urlSlug':post.user.urlSlug})">{{post.user.name}}</h4>
                                </div>
                                <div class="onway-imgholder pointer" ui-sref="{{itinerary}}({'urlSlug':post.user.urlSlug,'id':post.urlSlug})">
                                    <img ng-src="{{post.coverPhoto|uploadpath:370:340:'cover'}}" alt="" class="full-width m-center">
                                </div>
                                <!-- <div class="country-badges">
                    <div class="country-visited">
                      <img ng-src="{{visit.country.flag|uploadpath}}" alt="" height="30">
                      <span class="" ng-if="visit.country.length > 3">+4</span>
                    </div>
                  </div> -->
                                <div class="journey-tag-holder" hidden>
                                    <div class="days-spent pull-right">
                                        <p><span class="block">{{post.duration}}</span>Days</p>
                                    </div>
                                    <h4 class="m-clear text-capitalize">{{post.name| capitalize}}</h4>
                                    <div class="clearfix journey-travelling-type">
                                        <div class="row m-m0">
                                            <div class="col-xs-5 m-plr0">
                                                <div class="pull-left">
                                                    <div class="journey-type m0">
                                                        <ul>
                                                            <li ng-repeat="type in post.itineraryType|limitTo:3">
                                                                <a href=""><img ng-src="{{type|kindOfJourney:'white'}}" alt="" height="20"></a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-7 m-plr0">
                                                <div class="" ng-if="post.type=='quick-itinerary'">
                                                    <div class="quick-itinerary-tag">
                                                        <h4>Quick</h4>
                                                        <p>Itinerary</p>
                                                    </div>
                                                    <div class="date-quick-itinerary">
                                                        {{post.month}} {{post.year}}
                                                    </div>
                                                </div>
                                                <div class="text-right">
                                                    <div class="journey-cost" ng-if="post.currency!='' && post.cost!='' && post.currency!='0'">
                                                        <span>{{post.currency}}</span>
                                                        <span>{{post.cost | number}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="social-field-types">
                                <div class="user-social-item clearfix">
                                    <div class="pull-left">
                                        <ul>
                                            <li ng-click="likeUnlikeActivity(post);" like-sound><a href="" class="relate pointer"><i class="fa color-blue" ng-class="post.likeDone ? 'fa-heart like-animate' : 'fa-heart-o'"></i>
                        <span></span>
                        <audio id="like-play">
                          <source src="img/tiny1.mp3" type="audio/mp3">
                        </audio>
                      </a></li>
                                            <li class="pointer" ng-click="getCommentsData(post)">
                                                <a href=""><img src="img/comments.png" alt="" height="18"></a>
                                            </li>
                                            <!-- <li>
                          <a href=""><img src="img/reviews.png" alt="" height="18"></a>
                        </li> -->
                                            <li>
                                                <a ng-click="sharePost(post.sharingUrl)"><img src="img/share.png" alt="" height="18"></a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="pull-right">
                                        <div class="relate" ng-init="post.option={}">
                                            <span class="pointer" ng-click="editOption(post.option)">
                        <img src="img/options.png" alt="" class="pointer">
                      </span>
                                            <div class="activity-edit-option" ng-show="post.option.backgroundClick">
                                                <ul>
                                                    <li class="pointer" ng-if="post.user._id==userData._id">Hide From All Activity Feed <span class="hide-hover">? <span class="info-div pointer">This activity will be hidden from all your followers "Activity Feed".</span> </span>
                                                    </li>
                                                    <li class="pointer" ng-if="post.user._id!=userData._id" ng-click="openThankYouModal();">Report</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="social-likes-reviews avenir-roman">
                                    <div class="clearfix">
                                        <div class="pull-left">
                                            <span class="color-blue mr10 pointer" ng-click="getLikesData(post);"><i class="fa fa-heart color-blue mr5"></i><b class="">{{post.likeCount}}</b> Likes</span>
                                            <span class="color-blue mr10 pointer" ng-click="getCommentsData(post)"> <img src="img/comments.png" alt="" height="14"> <b> {{post.commentCount}} </b> Comments</span>
                                            <!-- <span class="color-blue"><img src="img/reviews.png" alt="" height="15" class="mr5 v-top">{{post.userReviewCount}} Reviews ({{post.userReviewCount}}/5)</span> -->
                                        </div>
                                        <!--<div class="pull-right">
                      <img src="img/travel.png" alt="">
                    </div>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end-user-iternarys -->
                    </div>
                </div>
            </div>
            <!-- pagination loader -->
            <div class="pagination-loader" ng-if="template.paginationLoader">
                <img src="img/page.svg" alt="Loading..." width="50px" class="img-responsive m-center">
            </div>
            <!-- pagination loader end -->
        </div>
        <!-- COMMENT LIKE SECTION -->
        <div class="" ng-if="postScrollData.viewList">
            <comment-like-section post="post" user-data='userData' post-scroll-data="postScrollData" view-card-comment="viewCardComment" view-card-like='viewCardLike' list-of-comments="listOfComments" list-of-likes="listOfLikes" get-card="getCard" show-like-show='showLikeShow'></comment-like-section>
        </div>
        <div class="backdrop-close" ng-class="{'view-backdrop':viewCardComment==true || viewCardLike==true,'':viewCardComment==false || viewCardLike==false}" ng-click="closeBackDrop();"></div>
        <!-- COMMENT LIKE SECTION END -->
    </div>
</div>
